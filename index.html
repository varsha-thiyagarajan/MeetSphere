<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MeetSphere â€“ The All-in-One Event Platform</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ðŸŒ Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-transparent fixed-top">
    <div class="container">
      <a class="navbar-brand fw-bold"><i class="bi bi-people-fill"></i> MeetSphere</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto align-items-center">
          <li class="nav-item"><a class="nav-link active" href="#home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#events">Events</a></li>
          <li class="nav-item"><a class="nav-link" href="#categories">Categories</a></li>
          <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link" href="dashboard.html">My Dashboard</a></li>
          <li class="nav-item">
            <a class="btn btn-outline-primary me-2" href="login.html" id="auth-btn">Login/Register</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ðŸ¦‹ Hero Section -->
  <section id="home" class="hero-section d-flex align-items-center text-center text-lg-start">
    <div class="container py-5 mt-5">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <h1 class="display-5 fw-bold">Discover. Create. Experience.</h1>
          <p class="lead text-muted mb-4">Host or join exciting events â€” from hackathons to music fests.</p>
          <div class="d-flex flex-wrap gap-3 justify-content-center justify-content-lg-start">
            <a href="#events" class="btn btn-gradient">Explore Events</a>
            <button class="btn btn-primary text-black" onclick="window.location.href='hosteventhomepage.html'">
              Host an Event
            </button>
          </div>
        </div>
        <div class="col-lg-6 mt-4 mt-lg-0 text-center">
          <img src="Hero.png" class="img-fluid rounded-4 shadow" alt="Event Illustration">
        </div>
      </div>
    </div>
  </section>

  <!-- ðŸ’  Categories Section -->
  <section id="categories" class="py-5">
    <div class="container text-center">
      <h2 class="fw-bold mb-2">Explore by Category</h2>
      <p class="text-muted mb-5">Find events that match your vibe â€” technical or creative.</p>
      <div class="row g-4">
        
        <div class="col-6 col-md-4 col-lg-2 mx-auto">
          <a href="categories/technical.html" class="text-decoration-none text-dark">
            <div class="category-card p-4 shadow-sm rounded-4 h-100">
              <div class="fs-1">ðŸ’»</div>
              <h5 class="mt-3">Technical</h5>
              <p class="small text-muted">Hackathons, workshops, coding sprints.</p>
            </div>
          </a>
        </div>

        <div class="col-6 col-md-4 col-lg-2 mx-auto">
          <a href="categories/music.html" class="text-decoration-none text-dark">
            <div class="category-card p-4 shadow-sm rounded-4 h-100">
              <div class="fs-1">ðŸŽµ</div>
              <h5 class="mt-3">Music</h5>
              <p class="small text-muted">Concerts, showcases, open mics.</p>
            </div>
          </a>
        </div>

        <div class="col-6 col-md-4 col-lg-2 mx-auto">
          <a href="categories/culturals.html" class="text-decoration-none text-dark">
            <div class="category-card p-4 shadow-sm rounded-4 h-100">
              <div class="fs-1">ðŸŽ­</div>
              <h5 class="mt-3">Cultural</h5>
              <p class="small text-muted">Festivals, theatre, community gatherings.</p>
            </div>
          </a>
        </div>

        <div class="col-6 col-md-4 col-lg-2 mx-auto">
          <a href="categories/sports.html" class="text-decoration-none text-dark">
            <div class="category-card p-4 shadow-sm rounded-4 h-100">
              <div class="fs-1">âš½</div>
              <h5 class="mt-3">Sports</h5>
              <p class="small text-muted">Tournaments, fitness meets, matches.</p>
            </div>
          </a>
        </div>

        <div class="col-6 col-md-4 col-lg-2 mx-auto">
          <a href="categories/business.html" class="text-decoration-none text-dark">
            <div class="category-card p-4 shadow-sm rounded-4 h-100">
              <div class="fs-1">ðŸ’¼</div>
              <h5 class="mt-3">Business</h5>
              <p class="small text-muted">Meetups, pitch nights, networking.</p>
            </div>
          </a>
        </div>

      </div>
    </div>
  </section>

  <!-- ðŸŽ‰ Upcoming Events -->
<section id="events" class="py-5 bg-light">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold">Upcoming Events</h2>
      <a href="#events" class="text-primary fw-semibold">View All â†’</a>
    </div>

    <div id="eventContainer" class="row g-5 justify-content-center">
      <!-- Events will load here dynamically -->
    </div>
  </div>
</section>

<!-- ðŸŒ Community Join -->
<section class="py-5">
  <div class="container text-center">
    <div class="p-5 bg-gradient rounded-4 text-green shadow">
      <h3>Join the MeetSphere Community</h3>
      <p class="mb-4">Never miss an event â€” get updates and network with like-minded people.</p>
      <a href="login.html" class="btn btn-light btn-lg">Join Now</a>
    </div>
  </div>
</section>




  <!-- ðŸ“„ Footer -->
  <footer class="py-4 bg-light border-top">
    <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center text-center text-md-start">
      <div>
        <h5 class="fw-bold text-gradient mb-1">MeetSphere</h5>
        <p class="small text-muted mb-0">Bringing events and people together.</p>
      </div>
      <ul class="list-unstyled d-flex gap-3 mb-2 mb-md-0 mt-3 mt-md-0">
        <li><a href="#home" class="text-muted text-decoration-none small">Home</a></li>
        <li><a href="#events" class="text-muted text-decoration-none small">Events</a></li>
        <li><a href="#about" class="text-muted text-decoration-none small">About</a></li>
      </ul>
      <p class="small text-muted mb-0">Â© 2025 MeetSphere</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- ðŸŽ‰ Upcoming Events -->


<script>
document.addEventListener("DOMContentLoaded", async () => {
  const eventContainer = document.getElementById("eventContainer");

  try {
    const response = await fetch("http://localhost:3000/api/events");
    const events = await response.json();

    // Sort by nearest date
    const sorted = events.sort((a, b) => new Date(a.startDate) - new Date(b.startDate));
    const topThree = sorted.slice(0, 3);

    if (!topThree.length) {
      eventContainer.innerHTML = "<p class='text-center text-muted'>No upcoming events available.</p>";
      return;
    }

    // Category emoji mapping
    const emojiMap = {
      technical: "ðŸ’»",
      music: "ðŸŽµ",
      cultural: "ðŸŽ­",
      sports: "âš½",
      business: "ðŸ’¼"
    };

    // Create event cards dynamically
    eventContainer.innerHTML = topThree.map(event => {
      const emoji = emojiMap[event.category?.toLowerCase()] || "ðŸŽ«";
      return `
        <div class="col-md-6 col-lg-4 d-flex">
          <div class="card border-0 shadow-lg rounded-4 flex-fill overflow-hidden position-relative" style="height: 500px;">
            <img src="https://source.unsplash.com/800x500/?${event.category},event"
                 class="card-img-top rounded-top-4" alt="${event.title}" style="object-fit: cover; height: 250px;">
            <div class="card-body d-flex flex-column justify-content-between">
              <div>
                <h5 class="fw-bold mb-2">${emoji} ${event.title}</h5>
                <p class="text-muted small mb-1"><i class="bi bi-calendar-event"></i> ${new Date(event.startDate).toDateString()}</p>
                <p class="text-muted small mb-2"><i class="bi bi-geo-alt"></i> ${event.location || "Location not specified"}</p>
                <p class="text-secondary" style="font-size: 0.9rem;">${event.description.slice(0, 100)}...</p>
              </div>
              <div class="d-flex justify-content-between mt-3">
                <a href="register.html?eventId=${event._id}" class="btn btn-primary btn-sm px-3">Register</a>
                <a href="eventdetails.html?eventId=${event._id}" class="btn btn-outline-secondary btn-sm px-3">Details</a>
              </div>
            </div>
          </div>
        </div>
      `;
    }).join("");
  } catch (error) {
    console.error(error);
    eventContainer.innerHTML = "<p class='text-danger text-center'>Failed to load events.</p>";
  }
});
</script>

</body>
</html>